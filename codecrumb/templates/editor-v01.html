{% extends 'layout.html' %} {% block meta %} {% block mainCss %}
{{ super() }}
{% endblock %} {% block mainScript %}
{{ super() }}
{% endblock %} {% endblock %}

<body>
  {% block body %} {% block loader %}
  {{ super() }}
  {% endblock %}
  <div class="container">
    <div class="wrapper">
      <div class="editor-menu-main">
        <div class="editor-menu-bg">
          <div class="editor-cover">
            <div class="editor-cover-menu">
              <div class="cover-main">
                <span class="general-tab cover-active">Layout</span>
                <span class="behaviour-tab">
                  Preferences
                </span>
                <span class="language-tab Settings">Language</span>
                <span class="custom-tab">Custom</span>
                <span class="balance-tab">Timer</span>

                <span class="keyboard-tab">KBD Shortcuts</span>

                <span class="log-out">
                  {% if current_user.is_authenticated %}

                  <a href="{{ url_for('oauth.logout') }}">Logout</a>

                  {% else %}
                  <a href="{{ url_for('oauth.login') }}">Sign in</a>

                  {% endif %}
                </span>
              </div>
            </div>
            <div class="editor-cover-items">
              {% block general %}
              {{ super() }}
              {% endblock %}
              <!-- general end -->

              {% block preprocessors %}
              {{ super() }}
              {% endblock %} {% block custom %}
              {{ super() }}
              {% endblock %} {% block balance %}
              {{ super() }}
              {% endblock %}
              <div class="behaviour-settings">
                <span class="settings-name">Behaviour</span>
                <div class="toggle-behaviour">
                  <!-- <label><input type="checkbox" name="emmet" id="" /><span>Emmet</span></label> -->
                  <label
                    ><input
                      type="checkbox"
                      name="brackets"
                      id=""
                      checked
                    /><span>Auto-close Brackets</span></label
                  >
                  <label
                    ><input type="checkbox" name="tags" id="" checked /><span
                      >Auto-Match HTML tags</span
                    ></label
                  >

                  <label>
                    <span>Line numbers</span
                    ><input type="checkbox" name="numbers" id="" checked />
                  </label>

                  <label
                    ><span>Line wrap</span
                    ><input type="checkbox" name="wrap" id="" checked
                  /></label>
                  <label
                    ><span>Activeline</span
                    ><input type="checkbox" name="active" id=""
                  /></label>
                  <label
                    ><input
                      type="checkbox"
                      name="linter"
                      id="linter-check"
                      checked
                    /><span>Linter (Live validation)</span></label
                  >
                  <label
                    ><input
                      type="checkbox"
                      name="complete"
                      id=""
                      checked
                    /><span>Auto-complete Suggestions </span></label
                  >
                  <label
                    ><input
                      type="checkbox"
                      name="preserve-log"
                      id="preserve-log"
                      data-log="true"
                      checked
                    /><span>Preserve Logs</span></label
                  >
                  <label
                    ><input
                      type="checkbox"
                      name="color-picker"
                      id="color-picker"
                      checked
                    /><span class="enable-text"
                      >Enable color-picker</span
                    ></label
                  >
                  <label
                    ><input type="checkbox" name="run" id="" /><span
                      >Auto-run</span
                    ></label
                  >
                  {% if current_user.is_authenticated and is_author %}
                  <label
                    ><input
                      type="checkbox"
                      name="save"
                      id="auto-save"
                      checked
                    /><span>Auto-save</span></label
                  >
                  {% else%}
                  <label
                    ><input
                      type="checkbox"
                      name="save"
                      id="auto-save"
                      disabled
                    /><span>Auto-save</span></label
                  >
                  {% endif %}
                </div>
              </div>
              {% block keyboard %}
              {{ super() }}
              {% endblock %}
            </div>
          </div>
        </div>
      </div>
      {% block anonymousForms %}

      {{ super() }}

      {% endblock %}
      <!--  -->

      <div class="editor-main-tab">
        <div class="logo">
          <a href="{{ url_for('main.editor') }}">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="55"
              height="55"
              viewBox="0 0 48 48"
              style="transform: rotate(25deg)"
              fill="#fa0033"
            >
              <path
                d="M12 26c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 1c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm6-9c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm30 11c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-14-7c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0-7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM6 27c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm14 14c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-34c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 7c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 11c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm16 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-14 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 7c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-8-24c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm0 17c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm8-9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"
              />
              <path d="M0 0h48v48H0z" fill="none" />
            </svg>
          </a>
          <i class="material-icons next-to-cname">create</i>
          <form name="crumbName" id="crumb-name">
            <input type="text" name="crumb" value="Unnamed Crumb" />
          </form>
          <!-- <span>By <span class="username">Simeon</span></span> -->
        </div>
        <div class="tab-menu">
          <a href="" class="run-preview tab-menu-link"
            ><svg
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.4"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="preview-play"
            >
              <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
            Run</a
          >

          {% if current_user.is_authenticated %} {% if is_author %}
          <a href="{{ code }}" class="save-crumb tab-menu-link">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              class="preview-save"
            >
              <path d="M0 0h24v24H0z" fill="none" />
              <path
                d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"
              />
            </svg>
            Save</a
          >

          {% endif %} {% else %}
          <a href="#" style="display: none" class="save-crumb tab-menu-link">
            Save</a
          >
          {% endif %}

          <div class="fork">
            <a href="#" class="fork-page tab-menu-link"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                class="preview-save"
              >
                <path
                  d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"
                /></svg
              >Fork</a
            >
            <!-- <a href="#" class="fork-spinner tab-menu-link fork-block"><span class="spinner "></span>Fork</a> -->
          </div>
          <a class="settings-button tab-menu-link"
            ><i class="material-icons">settings</i>Settings</a
          >
          {% if current_user.is_authenticated %}
          <div class="user-crumb tab-menu-link">
            <img
              class="user-image"
              src="{{ image }}"
              alt="{{ current_user.username }}"
            />
            <div class="user-crumb-menu">
              <a href="{{ url_for('oauth.account') }}" class="first"
                >Dashboard</a
              >
              <a href="{{ url_for('set_crumb.crumbs') }}">Your crumbs</a>

              <a href="{{ url_for('set_crumb.save') }}">New Crumb</a>
              <a href="{{ url_for('oauth.logout') }}" class="logout">Logout</a>
            </div>
          </div>
          <script>
            const imageMenu = document.querySelector(".user-crumb img");
            const userCrumbMenu = document.querySelector(".user-crumb-menu");

            imageMenu.addEventListener("click", e => {
              userCrumbMenu.style.animation = "hoverin .1s linear forwards";
            });
            userCrumbMenu.style.animation = "hoverout .1s linear forwards";
            window.addEventListener("click", function(e) {
              if (e.target != imageMenu && e.target != userCrumbMenu) {
                userCrumbMenu.style.animation = "hoverout .1s linear forwards";
              }
            });
          </script>
          {% endif %} {% if not current_user.is_authenticated %}

          <a
            href="{{ url_for('oauth.register') }}"
            class="tab-menu-link"
            style="padding: 10px;"
            >Sign up</a
          >
          <a
            href="{{ url_for('oauth.login') }}"
            class="tab-menu-link"
            style="padding: 10px;"
            >Sign in</a
          >

          {% endif %}
        </div>
      </div>
      <div class="editor-tab">
        <!-- <span class="runTab" data-tab="run"><a href=""><i class="material-icons">play_arrow</i>
                            <p>Run</p>
                        </a></span> -->
        <span class="htmlTab active" data-tab="html"><a href="">html</a></span>
        <span class="cssTab" data-tab="css"><a href="">css</a> </span>
        <span class="jsTab" data-tab="js"><a href="">javascript</a> </span>
        <span class="drag"> </span>
      </div>
      <div class="editor-body">
        <div class="editor">
          <div class=" editor-container">
            <div class="editor-preview">
              <iframe
                id="transcend-preview"
                allow="midi; geolocation; microphone; camera; encrypted-media;"
                sandbox="allow-forms allow-scripts allow-same-origin allow-modals allow-popups"
                allowfullscreen="false"
                allowpaymentrequest=""
                frameborder="0"
                src=""
                name="CodeCrumb"
              >
              </iframe>
              {% block console %}
              {{ super() }}
              {% endblock %}
            </div>
            <div class="resize-both"></div>
            <div class="code-pen">
              <div class="html-pen pen-active" data-pen="html">
                <div class="code-head" id="html-head">
                  <span class="codehead-left">
                    <a href="" class="html-mode"><i class="fa fa-cog"></i></a>
                    <span class="html-mode-name">HTML</span>
                    <span
                      class="changes-made html-changes-made"
                      data-change=""
                    ></span>
                  </span>

                  <span class="html-resize">
                    <div class="is-mini">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        style="width:18px;height:18px"
                        viewBox="0 0 24 24"
                      >
                        <path
                          fill="#ff2e59;"
                          d="M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"
                        />
                      </svg>
                    </div>
                  </span>
                </div>
                <textarea name="" id="html"></textarea>
              </div>

              <div class="css-pen pen-active" data-pen="css">
                <div class="code-head" id="css-head">
                  <span>
                    <a href="" class="css-mode"><i class="fa fa-cog"></i></a>
                    <span class="css-mode-name">CSS</span>
                    <span
                      class="changes-made css-changes-made"
                      data-change=""
                    ></span>
                  </span>

                  <span class="css-resize">
                    <div class="is-mini">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        style="width:18px;height:18px"
                        viewBox="0 0 24 24"
                      >
                        <path
                          fill="#ff2e59;"
                          d="M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"
                        />
                      </svg>
                    </div>
                  </span>
                </div>
                <textarea name="" id="css"></textarea>
              </div>

              <div class="js-pen pen-active" data-pen="js">
                <div class="code-head" id="js-head">
                  <span>
                    <a href="" class="js-mode"><i class="fa fa-cog"></i></a>
                    <span class="js-mode-name">JavaScript</span>
                    <span
                      class="changes-made js-changes-made"
                      data-change=""
                    ></span>
                  </span>

                  <span class="js-resize">
                    <div class="is-mini">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        style="width:18px;height:18px"
                        viewBox="0 0 24 24"
                      >
                        <path
                          fill="#ff2e59;"
                          d="M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"
                        />
                      </svg>
                    </div>
                  </span>
                </div>
                <textarea name="" id="js"></textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="editor-footer">
        <div class="footer-left">
          <div class="line-coord">
            <span class="line">Ln: <span class="ln">0</span></span>
            <span class="column">Col: <span class="ch">0</span></span>
          </div>
          <div class="editor-mode"></div>
          <div class="tab-type">Tab: <span class="tab-num">2</span></div>

          <div class="toggle-linter" data-label="Linter: on.">
            Linter: <i class="material-icons tg-l">done</i>
          </div>

          <div class="console-bar" data-label="0 logs">
            Console: <span class="console-label" data-error="0">0</span
            ><i class="material-icons">error</i>
          </div>
        </div>
        <div class="footer-right">
          <div class="watch-code" data-label="Auto save: on."></div>
          <a
            target="_blank"
            class="toggle-pseudo-code"
            data-label="Create a ReadMe file."
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
              <title>Create a ReadMe File</title>
              <rect
                x="2.5"
                y="7.955"
                width="27"
                height="16.091"
                style="fill:none;stroke:#6c6783"
              />
              <polygon
                points="5.909 20.636 5.909 11.364 8.636 11.364 11.364 14.773 14.091 11.364 16.818 11.364 16.818 20.636 14.091 20.636 14.091 15.318 11.364 18.727 8.636 15.318 8.636 20.636 5.909 20.636"
                style="fill:#6c6783"
              />
              <polygon
                points="22.955 20.636 18.864 16.136 21.591 16.136 21.591 11.364 24.318 11.364 24.318 16.136 27.045 16.136 22.955 20.636"
                style="fill:#6c6783"
              />
            </svg>
            {% if current_user.is_authenticated %} Write Readme {% else %} View
            Readme {% endif %}
          </a>

          <a href="#export" class="export-file" data-label="Download code">
            <title>Export codes as a zip file</title>Export as ZIP
          </a>

          <div class="open-console" data-label="Open debug console">
            Debug Console: <i class="material-icons opc">visibility_off</i>
          </div>
        </div>
      </div>
    </div>
    {% if current_user.is_authenticated %}
    <input
      type="hidden"
      name="snippets-info"
      value="{{ snippets }}"
      id="snippets"
    />
    {% else %}
    <input type="hidden" name="snippets-info" value="None" id="snippets" />
    {% endif %}
    <input
      type="hidden"
      id="crumbData"
      value="{{ crumb }}"
      style="display: none;"
    />
  </div>

  {% block bottomScript %}
  {{ super() }}
  {% endblock %}
  <script src="{{url_for('static', filename='js/editor-two.js')}}"></script>

  {% endblock %}
</body>
